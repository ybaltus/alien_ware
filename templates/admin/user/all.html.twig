{% extends 'base.html.twig' %}

{% block title %}
	{{'user.title'|trans}}
{% endblock %}

{% block body %}
	<div class="container">
		<div class="row">
			<div class="col-12 mt-5">
				{% for type, messages in app.flashes %}
					{% for message in messages %}
						<div class="alert alert-{{ type }} alert-dismissible fade show" role="alert">
							{{ message }}
							<button type="button" class="close" data-dismiss="alert" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
					{% endfor %}
				{% endfor %}
			</div>
		</div>
		<h1> {{'user.today.registered'|trans}} <a class="btn btn-success" href="/{{'redirectHome'|trans}}/admin/users">{{'admin.user.viewtoday'|trans}}</a></h1>
		<table class="table">
			<thead>
				<tr>
					<th>Id</th>
					<th>{{'user.firstname'|trans}}</th>
					<th>{{'user.lastname'|trans}}</th>
					<th>{{'user.email'|trans}}</th>
					<th>{{'user.roles'|trans}}</th>
					<th>{{'user.createdat'|trans}}</th>
				</tr>
			</thead>
			<tbody>
				{% for user in users %}
					<tr>
						<td>{{user.id}}</td>
						<td>{{user.firstName}}</td>
						<td>{{user.lastName}}</td>
						<td>{{user.email}}</td>
						<td>
							{% for role in user.roles %}
								{{role}}
							{% else %}
								{{'user.title'|trans}}
							{% endfor %}
						</td>
						<td>{{ user.createdAt |date('Y-m-d H:i:s') }}</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="3">{{'user.today.nouser'|trans}}</td>
					</tr>
				{% endfor %}
			</tbody>
			
		</table>
	</div>

{% endblock %}